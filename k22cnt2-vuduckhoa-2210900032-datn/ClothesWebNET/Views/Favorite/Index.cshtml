@model IEnumerable<ClothesWebNET.Models.FavoriteProductDTO>
@{
    ViewBag.Title = "Yêu thích";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@Styles.Render("~/Content/main")
@Styles.Render("~/Content/product")

<style>
    /* Scoped overrides for Favorite page only */
    .favorite-page .grid__row {
        justify-content: flex-start !important;
        align-items: stretch !important;
    }

    .favorite-page .grid__col-3 {
        width: 24%;
    }

    /* Stop centering card content (product.css uses width:80% + margin:auto) */
    .favorite-page .product,
    .favorite-page .product-info {
        width: 100% !important;
        margin: 0 !important;
    }
</style>

<div class="container favorite-page">
    <div class="breadcrumb">
        <div class="grid">
            <a href="/">Trang chủ / </a>
            <a class="br-main" href="/Favorite">Trang danh sách sản phẩm yêu thích</a>
        </div>
    </div>

    <div class="products">
        <div class="product-heading">Sản phẩm yêu thích</div>
        <div class="grid">
            <div class="grid__row">
                @if (ViewBag.FavoriteError != null)
                {
                    <div style="padding: 16px; font-size: 1.4rem; color: #b91c1c;">
                        Không load được danh sách yêu thích: @ViewBag.FavoriteError
                        <div style="margin-top: 6px; color:#050505;">
                            Gợi ý: hãy chạy script `Scripts/CreateFavoriteTable.sql` trên DB `webthoitrang` để tạo bảng Favorite.
                        </div>
                    </div>
                }
                @if (Model != null && Model.Any())
                {
                    foreach (var item in Model)
                    {
                        <div class="grid__col-3">
                            <h1 style="display:none" id="idProduct">@item.idProduct</h1>
                            <div class="product">
                                <img src="@item.URLImage"
                                     alt=""
                                     class="product-img product-show" />
                                <img src="@item.URLImage"
                                     alt=""
                                     class="product-img product-img-hover" />
                            </div>
                            <div class="product-info">
                                <div class="product-title">
                                    @item.nameProduct
                                </div>
                                <div class="product-price">@item.price,000₫</div>
                            </div>
                        </div>
                    }
                }
                else
                {
                    <div style="padding: 16px; font-size: 1.4rem;">
                        Danh sách yêu thích của bạn đang trống.
                    </div>
                }
            </div>
        </div>
    </div>
</div>

@Scripts.Render("~/bundles/product")


